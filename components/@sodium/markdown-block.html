<script setup>
  import { onInit } from '@li3/web';
  import markdown from 'https://markdown.jsfn.run/index.mjs';

  onInit(async function ({ element }) {
    const source = element.innerHTML.trim() || '';

    if (!source) return;

    try {
      const html = await markdown(source);
      element.innerHTML = html;
    } catch {
      element.innerHTML = source;
    }
  });

</script>